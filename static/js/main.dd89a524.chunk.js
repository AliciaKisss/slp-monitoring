(this["webpackJsonpslp-monitoring"]=this["webpackJsonpslp-monitoring"]||[]).push([[0],{161:function(e,t,a){},162:function(e,t,a){},257:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(24),i=a.n(s),c=(a(161),a(116)),d=a.n(c),l=a(141),o=a(66),u=(a(162),a(163),a(49)),m=a(117),j=a.n(m),b=a(62),f=a.n(b),p=a(150),h=a(30),x=a(265),y=a(263),O=a(260),g=a(262),v=a(261),w=a(19),k=function(e){var t=e.onSubmit,a=e.onCancel,n=e.visible,r=O.a.useForm(),s=Object(o.a)(r,1)[0],i=function(e){var a=window.localStorage.getItem("players"),n=JSON.parse(a)||{value:[]};Object(u.filter)(n.value,(function(t){return t.address===e.address})).length>0?p.b.warning("The address you entered is already in the list"):(t({key:Date.now(),name:e.name||"",address:e.address||""}),s.resetFields())};return Object(w.jsx)(g.a,{title:"Add an Isko",visible:n,onOk:function(){i(s.getFieldsValue())},onCancel:function(){a()},closable:!1,children:Object(w.jsxs)(O.a,{onFinish:i,name:"axie-user-form",form:s,children:[Object(w.jsx)(O.a.Item,{name:"name",rules:[{required:!0,message:"Please input player name"}],children:Object(w.jsx)(v.a,{placeholder:"Name *"})}),Object(w.jsx)(O.a.Item,{name:"address",rules:[{required:!0,message:"Please input player adrress"}],children:Object(w.jsx)(v.a,{placeholder:"Etherium address *"})})]})})},S=a(118),C=a.n(S),D=a(266),I=a(259),L=a(155),A=a(264),_=function(e){var t=e.loading,a=e.players,n=e.onDelete,r=e.playersData,s=function(e,t,a){var n=Object(u.filter)(r,(function(t){return t.id.toLowerCase()===e.toLowerCase()}));if(n.length>0){var s=n[0][t];switch(a){case"number":return C()(s).format("0,0");case"date":return f()(new Date(1e3*s)).format("LLL");case"decimal":return C()(s).format("0.0");default:return s}}return"-"},i=function(e){n(e)},c=[{title:"",render:function(e,t){return Object(w.jsx)(D.a,{title:"Are you sure you want to delete ".concat(t.name,"?"),icon:Object(w.jsx)(L.a,{style:{color:"red"}}),onConfirm:function(){return i(t)},children:Object(w.jsx)(h.a,{type:"link",danger:!0,icon:Object(w.jsx)(A.a,{})})})},width:5},{title:"Name",dataIndex:"name",key:"name",width:10},{title:"Claimed SLP",dataIndex:"address",key:"address",width:50,render:function(e,t){return Object(w.jsx)("span",{children:s(t.address,"claimable","number")})}},{title:"Locked SLP",dataIndex:"address",key:"address",width:50,render:function(e,t){return Object(w.jsx)("span",{children:s(t.address,"lockedSlp","number")})}},{title:"Total SLP",dataIndex:"address",key:"address",width:50,render:function(e,t){return Object(w.jsx)("span",{children:s(t.address,"total","number")})}},{title:"Daily Avg",dataIndex:"address",key:"address",width:50,render:function(e,t){return Object(w.jsx)("span",{children:s(t.address,"dailyAvg","decimal")})}},{title:"Last Claim Date",dataIndex:"address",key:"address",width:150,render:function(e,t){return Object(w.jsx)("span",{children:s(t.address,"lastClaimedAt","date")})}},{title:"Next Claim Date",dataIndex:"address",key:"address",width:150,render:function(e,t){return Object(w.jsx)("span",{children:s(t.address,"nextClaimDate","none")})}},{title:"Address",dataIndex:"address",key:"address",width:50,render:function(e){var t=e.substring(0,6),a=e.substring(e.length-5,e.length);return"".concat(t,"...").concat(a)}}];return Object(w.jsx)(I.a,{loading:t,dataSource:a,columns:c,scroll:{x:1300}})};var P=function(){var e=JSON.parse(window.localStorage.getItem("players"))||{value:[]},t=Object(n.useState)(e),a=Object(o.a)(t,2),r=a[0],s=a[1],i=Object(n.useState)([]),c=Object(o.a)(i,2),m=c[0],b=c[1],O=Object(n.useState)(!0),g=Object(o.a)(O,2),v=g[0],S=g[1],C=Object(n.useState)(!1),D=Object(o.a)(C,2),I=D[0],L=D[1];Object(n.useEffect)((function(){A()}),["players"]);var A=function(){var e=[];function t(){return(t=Object(l.a)(d.a.mark((function t(a){var n,s,i,c,l,o;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,j()("https://lunacia.skymavis.com/game-api/clients/".concat(a.address,"/items/1"));case 3:(n=t.sent).data&&(s=n.data,i=s.client_id,c=s.total,l=s.claimable_total,o=s.last_claimed_item_at,e.push({id:i,total:c||0,claimable:l||0,lockedSlp:c-l,lastClaimedAt:o,dailyAvg:P(o,c),nextClaimDate:F(o)})),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),e.push({id:"invalid-user-".concat(a.address),total:0,claimable:0,lockedSlp:0,lastClaimedAt:f()(),dailyAvg:0,nextClaimDate:f()()});case 10:b(e),e.length===r.value.length&&S(!1);case 12:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}r.value.length<1?S(!1):r.value.forEach((function(e){!function(e){t.apply(this,arguments)}(e)}))},P=function(e,t){var a=f()(new Date(1e3*e)),n=f()().diff(a,"days");return n<1?t:t/n},F=function(e){return f()(new Date(1e3*e)).add(14,"days").format("LLL")};return Object(w.jsxs)("div",{className:"SLP_Monitoring_App",style:{padding:"15px 25px",margin:"auto"},children:[Object(w.jsxs)("div",{style:{fontSize:"1.5em",fontWeight:"bold",marginBottom:"10px",display:"flex"},children:[Object(w.jsx)("div",{style:{flexGrow:"3"},children:"SLP Tracker"}),Object(w.jsx)(h.a,{size:"large",shape:"circle",icon:Object(w.jsx)(x.a,{}),style:{marginRight:"20px"},onClick:function(){S(!0),b([]),A()}}),Object(w.jsx)(h.a,{size:"large",type:"primary",shape:"round",icon:Object(w.jsx)(y.a,{}),onClick:function(){L(!0)},children:"Isko"})]}),Object(w.jsx)(k,{onSubmit:function(e){S(!0);var t=Object(u.cloneDeep)(m);j()("https://lunacia.skymavis.com/game-api/clients/".concat(e.address,"/items/1")).then((function(a){var n=Object(u.cloneDeep)(r);if(a.data){var i=a.data,c=i.client_id,d=i.total,l=i.claimable_total,o=i.last_claimed_item_at;t.push({id:c,total:d||0,claimable:l||0,lockedSlp:d-l,lastClaimedAt:o,dailyAvg:P(o,d),nextClaimDate:F(o)})}S(!1),b(t),n.value.push(e),window.localStorage.setItem("players",JSON.stringify(n)),s(n)})).catch((function(e){p.b.error("You entered an invalid etherium address"),S(!1)})),L(!1)},visible:I,onCancel:function(){L(!1)}}),Object(w.jsx)(_,{loading:v,players:r.value,onDelete:function(e){var t=Object(u.filter)(r.value,(function(t){return t.key!==e.key})),a=Object(u.filter)(m,(function(t){return t.id!==e.address}));s({value:t}),b(a),window.localStorage.setItem("players",JSON.stringify({value:t})),p.b.success("Successfully deleted ".concat(e.name))},playersData:m})]})},F=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,267)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,s=t.getLCP,i=t.getTTFB;a(e),n(e),r(e),s(e),i(e)}))};i.a.render(Object(w.jsx)(r.a.StrictMode,{children:Object(w.jsx)(P,{})}),document.getElementById("root")),F()}},[[257,1,2]]]);
//# sourceMappingURL=main.dd89a524.chunk.js.map