(this["webpackJsonpslp-monitoring"]=this["webpackJsonpslp-monitoring"]||[]).push([[0],{160:function(e,t,a){},161:function(e,t,a){},256:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(24),i=a.n(s),c=(a(160),a(116)),d=a.n(c),l=a(140),o=a(65),u=(a(161),a(162),a(61)),m=a(117),j=a.n(m),b=a(118),f=a.n(b),p=a(66),h=a.n(p),x=a(266),O=a(30),g=a(149),y=a(259),v=a(154),k=a(263),w=a(264),S=a(265),C=a(260),I=a(262),L=a(261),D=a(20),A=function(e){var t=e.onSubmit,a=e.onCancel,n=e.visible,r=C.a.useForm(),s=Object(o.a)(r,1)[0],i=function(e){var a=window.localStorage.getItem("players"),n=JSON.parse(a)||{value:[]};Object(u.filter)(n.value,(function(t){return t.address===e.address})).length>0?g.b.warning("The address you entered is already in the list"):(t({key:Date.now(),name:e.name||"",address:e.address||""}),s.resetFields())};return Object(D.jsx)(I.a,{title:"Add an Isko",visible:n,onOk:function(){i(s.getFieldsValue())},onCancel:function(){a()},closable:!1,children:Object(D.jsxs)(C.a,{onFinish:i,name:"axie-user-form",form:s,children:[Object(D.jsx)(C.a.Item,{name:"name",rules:[{required:!0,message:"Please input player name"}],children:Object(D.jsx)(L.a,{placeholder:"Name *"})}),Object(D.jsx)(C.a.Item,{name:"address",rules:[{required:!0,message:"Please input player adrress"}],children:Object(D.jsx)(L.a,{placeholder:"Etherium address *"})})]})})};var _=function(){var e=JSON.parse(window.localStorage.getItem("players"))||{value:[]},t=Object(n.useState)(e),a=Object(o.a)(t,2),r=a[0],s=a[1],i=Object(n.useState)([]),c=Object(o.a)(i,2),m=c[0],b=c[1],p=Object(n.useState)(!0),C=Object(o.a)(p,2),I=C[0],L=C[1],_=Object(n.useState)(!1),P=Object(o.a)(_,2),F=P[0],N=P[1];Object(n.useEffect)((function(){J()}),["players"]);var J=function(){var e=[];function t(){return(t=Object(l.a)(d.a.mark((function t(a){var n,s,i,c,l,o;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,j()("https://lunacia.skymavis.com/game-api/clients/".concat(a.address,"/items/1"));case 3:(n=t.sent).data&&(s=n.data,i=s.client_id,c=s.total,l=s.claimable_total,o=s.last_claimed_item_at,e.push({id:i,total:c||0,claimable:l||0,lockedSlp:c-l,lastClaimedAt:o,dailyAvg:T(o,c),nextClaimDate:E(o)})),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),e.push({id:"invalid-user-".concat(a.address),total:0,claimable:0,lockedSlp:0,lastClaimedAt:h()(),dailyAvg:0,nextClaimDate:h()()});case 10:b(e),e.length===r.value.length&&L(!1);case 12:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}r.value.forEach((function(e){!function(e){t.apply(this,arguments)}(e)}))},T=function(e,t){var a=h()(new Date(1e3*e));return t/h()().diff(a,"days")},E=function(e){return h()(new Date(1e3*e)).add(14,"days").format("LLL")},z=function(e,t,a){var n=Object(u.filter)(m,(function(t){return t.id===e}));if(n.length>0){var r=n[0][t];switch(a){case"number":return f()(r).format("0,0");case"date":return h()(new Date(1e3*r)).format("LLL");case"decimal":return f()(r).format("0.0");default:return r}}return"-"},B=[{title:"",render:function(e,t){return Object(D.jsx)(x.a,{title:"Are you sure you want to delete ".concat(t.name,"?"),icon:Object(D.jsx)(v.a,{style:{color:"red"}}),onConfirm:function(){return q(t)},children:Object(D.jsx)(O.a,{type:"link",danger:!0,icon:Object(D.jsx)(k.a,{})})})},width:5},{title:"Name",dataIndex:"name",key:"name",width:10},{title:"Claimed SLP",dataIndex:"address",key:"address",width:50,render:function(e,t){return Object(D.jsx)("span",{children:z(t.address,"claimable","number")})}},{title:"Locked SLP",dataIndex:"address",key:"address",width:50,render:function(e,t){return Object(D.jsx)("span",{children:z(t.address,"lockedSlp","number")})}},{title:"Total SLP",dataIndex:"address",key:"address",width:50,render:function(e,t){return Object(D.jsx)("span",{children:z(t.address,"total","number")})}},{title:"Daily Avg",dataIndex:"address",key:"address",width:50,render:function(e,t){return Object(D.jsx)("span",{children:z(t.address,"dailyAvg","decimal")})}},{title:"Last Claim Date",dataIndex:"address",key:"address",width:150,render:function(e,t){return Object(D.jsx)("span",{children:z(t.address,"lastClaimedAt","date")})}},{title:"Next Claim Date",dataIndex:"address",key:"address",width:150,render:function(e,t){return Object(D.jsx)("span",{children:z(t.address,"nextClaimDate","none")})}},{title:"Address",dataIndex:"address",key:"address",width:50,render:function(e){var t=e.substring(0,6),a=e.substring(e.length-5,e.length);return"".concat(t,"...").concat(a)}}],q=function(e){var t=Object(u.filter)(r.value,(function(t){return t.key!==e.key})),a=Object(u.filter)(m,(function(t){return t.id!==e.address}));s({value:t}),b(a),window.localStorage.setItem("players",JSON.stringify({value:t})),g.b.success("Successfully deleted ".concat(e.name))};return Object(D.jsxs)("div",{className:"SLP_Monitoring_App",style:{padding:"15px 25px",margin:"auto"},children:[Object(D.jsxs)("div",{style:{fontSize:"1.5em",fontWeight:"bold",marginBottom:"10px",display:"flex"},children:[Object(D.jsx)("div",{style:{flexGrow:"3"},children:"SLP Tracker"}),Object(D.jsx)(O.a,{size:"large",shape:"circle",icon:Object(D.jsx)(w.a,{}),style:{marginRight:"20px"},onClick:function(){L(!0),b([]),J()}}),Object(D.jsx)(O.a,{size:"large",type:"primary",shape:"round",icon:Object(D.jsx)(S.a,{}),onClick:function(){N(!0)},children:"Isko"})]}),Object(D.jsx)(A,{onSubmit:function(e){L(!0);var t=Object(u.cloneDeep)(m);j()("https://lunacia.skymavis.com/game-api/clients/".concat(e.address,"/items/1")).then((function(a){var n=Object(u.cloneDeep)(r);if(a.data){var i=a.data,c=i.client_id,d=i.total,l=i.claimable_total,o=i.last_claimed_item_at;t.push({id:c,total:d||0,claimable:l||0,lockedSlp:d-l,lastClaimedAt:o,dailyAvg:T(o,d),nextClaimDate:E(o)})}L(!1),b(t),n.value.push(e),window.localStorage.setItem("players",JSON.stringify(n)),s(n)})).catch((function(e){g.b.error("You entered an invalid etherium address"),L(!1)})),N(!1)},visible:F,onCancel:function(){N(!1)}}),Object(D.jsx)(y.a,{loading:I,dataSource:r.value,columns:B,scroll:{x:1300}})]})},P=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,267)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,s=t.getLCP,i=t.getTTFB;a(e),n(e),r(e),s(e),i(e)}))};i.a.render(Object(D.jsx)(r.a.StrictMode,{children:Object(D.jsx)(_,{})}),document.getElementById("root")),P()}},[[256,1,2]]]);
//# sourceMappingURL=main.6163bda3.chunk.js.map